<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Vigenere Cipher</title>

<style>
body {
    font-family: Arial, sans-serif;
    padding: 20px;
}
input, textarea, button {
    width: 100%;
    margin: 6px 0;
    padding: 8px;
}
button {
    background: #2c7be5;
    color: white;
    border: none;
    cursor: pointer;
}
button:hover {
    background: #1a5dc9;
}
</style>
</head>

<body>

<h2>Vigenere Cipher (Mod 26)</h2>

<label>Masukkan Kunci (Key):</label>
<input type="text" id="key">

<label>Masukkan Teks:</label>
<textarea id="text"></textarea>

<label>Pilih Mode:</label>
<input type="radio" name="mode" value="encrypt" checked> Enkripsi
<input type="radio" name="mode" value="decrypt"> Dekripsi

<button onclick="proses()">Proses</button>

<h3>Hasil:</h3>
<p id="hasil"></p>

<script>
function cleanText(text) {
    return text.toUpperCase().replace(/[^A-Z]/g, "");
}

function vigenereEncrypt(text, key) {
    let result = "";
    for (let i = 0; i < text.length; i++) {
        let p = text.charCodeAt(i) - 65;
        let k = key.charCodeAt(i % key.length) - 65;
        let c = (p + k) % 26;
        result += String.fromCharCode(c + 65);
    }
    return result;
}

function vigenereDecrypt(text, key) {
    let result = "";
    for (let i = 0; i < text.length; i++) {
        let c = text.charCodeAt(i) - 65;
        let k = key.charCodeAt(i % key.length) - 65;
        let p = (c - k + 26) % 26;
        result += String.fromCharCode(p + 65);
    }
    return result;
}

function proses() {
    let key = cleanText(document.getElementById("key").value);
    let text = cleanText(document.getElementById("text").value);
    let mode = document.querySelector('input[name="mode"]:checked').value;

    if (key === "" || text === "") {
        alert("Key dan teks tidak boleh kosong!");
        return;
    }

    let hasil = mode === "encrypt"
        ? vigenereEncrypt(text, key)
        : vigenereDecrypt(text, key);

    document.getElementById("hasil").innerText = hasil;
}
</script>

</body>
</html>
