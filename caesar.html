<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Caesar Cipher (Multi Key)</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f4fefe;
}
.container {
    max-width: 600px;
    background: white;
    padding: 25px;
    margin: 40px auto;
    border-radius: 10px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}
input, textarea, button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
}
button {
    background: #0f766e;
    color: white;
    border: none;
    cursor: pointer;
}
button:hover {
    background: #115e59;
}
</style>
</head>
<body>

<div class="container">
<h2>Caesar Cipher (Hingga 3 Kunci)</h2>

<label>Kunci 1 (Wajib)</label>
<input type="number" id="k1">

<label>Kunci 2 (Opsional)</label>
<input type="number" id="k2">

<label>Kunci 3 (Opsional)</label>
<input type="number" id="k3">

<label>Masukkan Teks</label>
<textarea id="text"></textarea>

<label>
<input type="radio" name="mode" value="encrypt" checked> Enkripsi
</label>
<label>
<input type="radio" name="mode" value="decrypt"> Dekripsi
</label>

<button onclick="process()">Proses</button>

<h3>Hasil</h3>
<p id="result"></p>
</div>

<script>
function caesar(text, shift) {
    return text.split('').map(c => {
        if (c.match(/[a-z]/i)) {
            let code = c.charCodeAt(0);
            let base = code >= 65 && code <= 90 ? 65 : 97;
            return String.fromCharCode(((code - base + shift) % 26 + 26) % 26 + base);
        }
        return c;
    }).join('');
}

function process() {
    let text = document.getElementById("text").value;
    let k1 = parseInt(document.getElementById("k1").value) || 0;
    let k2 = parseInt(document.getElementById("k2").value) || 0;
    let k3 = parseInt(document.getElementById("k3").value) || 0;

    let mode = document.querySelector('input[name="mode"]:checked').value;
    let totalShift = k1 + k2 + k3;

    if (mode === "decrypt") totalShift *= -1;

    document.getElementById("result").innerText =
        caesar(text, totalShift);
}
</script>

</body>
</html>
